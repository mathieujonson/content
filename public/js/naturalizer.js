"use strict";!function(){var t={contentType:$("#contentType"),formContent:$(".formContent"),previewContainer:$(".previewContainer"),previewContent:$(".previewContent")},e={contentType:null},n={init:function(){t.contentType.on("change",n.getForm)},getForm:function(){t.formContent.html(i.loader()),e.contentType=t.contentType.val(),t.contentType.replaceWith(e.contentType.replace("-"," ")),$.ajax("/naturalizer/form/"+e.contentType).done(function(o){o.success&&(t.formContent.html(o.html),t.previewContent.html(i[e.contentType.replace("-","")]),t.previewContainer.show(),$('[data-toggle="popover"]').popover({placement:"top",trigger:"hover"}),"sitewide-banner"==e.contentType&&n.initSitewide())}).fail(function(){console.log("woah, something went horribly wrong...")})},toggleOther:function(t){var e=$(t.target),n=e.attr("name");"other"==$('[name="'+n+'"]:checked').val()?e.parent().next('input[type="text"]').fadeIn():e.parent().parent().find(".other").fadeOut()},initSitewide:function(){t.bannerText=$("#bannerText"),t.previewSwBanner=$("#previewSwBanner"),t.previewBannerText=$("#previewBannerText"),t.previewExclusionText=$("#previewExclusionText"),t.previewExclusionToggle=$("#previewExclusionToggle"),$('[name="backgroundColor"], [name="mainFontColor"]').on("click",n.toggleOther);var e=$('input[name="backgroundColor"]:checked').val(),i=$('input[name="mainFontColor"]:checked').val();t.previewSwBanner.css({"background-color":e}),t.bannerText.css({color:i}),t.previewExclusionToggle.css({color:i})}},i={loader:function(){return'<div class="row">\n\t\t\t\t\t\t<div class="col-sm-12>"\n\t\t\t\t\t\t\t<div class="loader">\n\t\t\t\t\t\t\t\t<div class="spinner"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>'},simplebanner:function(){return'<div id="previewSwBanner">\n\t\t\t\t\t\t<div class="bannerWidth">\n\t\t\t\t\t\t\t<div id="previewBannerText">&nbsp;</div>\n\t\t\t\t\t\t\t<a href="#" id="previewExclusionToggle" onclick="$(\'#previewExclusionText\').slideToggle(); return false;">details</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bannerWidth">\n\t\t\t\t\t\t<div id="previewExclusionText">&nbsp;</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t'}};n.init()}();