"use strict";!function(){var t={contentType:$("#contentType"),formContent:$(".formContent"),previewContainer:$(".previewContainer"),previewContent:$(".previewContent")},e={contentType:null},n={init:function(){t.contentType.on("change",n.getForm)},getForm:function(){t.formContent.html(o.loader()),e.contentType=t.contentType.val(),t.contentType.replaceWith(e.contentType.replace("-"," ")),$.ajax("/naturalizer/form/"+e.contentType).done(function(i){i.success&&(t.formContent.html(i.html),t.previewContent.html(o[e.contentType.replace("-","")]),t.previewContainer.show(),n.setPreview(e.contentType),"simple-banner"==e.contentType&&$('[name="backgroundColor"], [name="mainFontColor"]').on("change",n.toggleOther))}).fail(function(){console.log("woah, something went horribly wrong...")})},toggleOther:function(t){var e=$(t.target),n=e.attr("name");"other"==$('[name="'+n+'"]:checked').val()?e.parent().next('input[type="text"]').fadeIn():e.parent().parent().find(".other").fadeOut()},setPreview:function(e){if("simple-banner"==e){t.swBanner=$("#previewSwBanner"),t.bannerText=$("#previewBannerText"),t.exclusionText=$("#previewExclusionText"),t.exclusionToggle=$("#previewExclusionToggle");var n=$('input[name="backgroundColor"]:checked').val(),o=$('input[name="mainFontColor"]:checked').val();t.swBanner.css({"background-color":n}),t.bannerText.css({color:o}),t.exclusionToggle.css({color:o})}}},o={loader:function(){return'<div class="row">\n\t\t\t\t\t\t<div class="col-sm-12>"\n\t\t\t\t\t\t\t<div class="loader">\n\t\t\t\t\t\t\t\t<div class="spinner"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>'},simplebanner:function(){return'<div id="previewSwBanner">\n\t\t\t\t\t\t<div class="bannerWidth">\n\t\t\t\t\t\t\t<div id="previewBannerText">&nbsp;</div>\n\t\t\t\t\t\t\t<a href="#" id="previewExclusionToggle" onclick="$(\'#previewExclusionText\').slideToggle(); return false;">details</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bannerWidth">\n\t\t\t\t\t\t<div id="previewExclusionText">&nbsp;</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t'}};n.init()}();