"use strict";!function(){var e={contentType:$("#contentType"),formContent:$(".formContent"),previewContainer:$(".previewContainer"),previewContent:$(".previewContent")},t={contentType:null},n={init:function(){e.contentType.on("change",n.getForm)},getForm:function(){e.formContent.html(i.loader()),t.contentType=e.contentType.val(),e.contentType.replaceWith(t.contentType.replace("-"," ")),$.ajax("/naturalizer/form/"+t.contentType).done(function(o){o.success&&(e.formContent.html(o.html),e.previewContent.html(i[t.contentType.replace("-","")]),e.previewContainer.show(),$('[data-toggle="popover"]').popover({placement:"top",trigger:"hover"}),"sitewide-banner"==t.contentType&&n.initSitewide())}).fail(function(){console.log("woah, something went horribly wrong...")})},toggleOther:function(e){var t=$(e.target),n=t.attr("name");"other"==$('[name="'+n+'"]:checked').val()?t.parent().next('input[type="text"]').fadeIn():t.parent().parent().find(".other").fadeOut()},initSitewide:function(){e.previewContent.html(i.sitewideBanner()),e.bannerText=$("#bannerText"),e.mainFontSize=$("#mainFontSize"),e.mainLineHeight=$("#mainLineHeight"),e.mainLetterSpacing=$("#mainLetterSpacing"),e.backgroundColor=$('input[name="backgroundColor"]'),e.mainFontColor=$('input[name="mainFontColor"]'),e.exclusionsText=$("#exclusionsText"),e.previewSwBanner=$("#previewSwBanner"),e.previewBannerText=$("#previewBannerText"),e.previewExclusionsText=$("#previewExclusionsText"),e.previewExclusionToggle=$("#previewExclusionToggle"),$('[name="backgroundColor"], [name="mainFontColor"]').on("click",n.toggleOther);var t=$('input[name="backgroundColor"]:checked').val(),o=$('input[name="mainFontColor"]:checked').val();e.previewSwBanner.css({"background-color":t}),e.previewBannerText.css({color:o,"line-height":e.mainLineHeight.val(),"letter-spacing":e.mainLetterSpacing.val()+"px"}),e.previewExclusionToggle.css({color:o}),e.bannerText.on("keyup",n.updateBannerText),e.mainFontSize.on("change",n.updateMainFontSize),e.mainLineHeight.on("change",n.updateMainLineHeight),e.mainLetterSpacing.on("change",n.updateMainLetterSpacing),e.backgroundColor.on("change",n.updateBackgroundColor),e.mainFontColor.on("change",n.updateMainFontColor),e.exclusionsText.on("keyup",n.updateExclusionsText)},updateBannerText:function(){var t=""==e.bannerText.val()?"&nbsp;":e.bannerText.val();e.previewBannerText.text(t)},updateMainFontSize:function(){e.previewBannerText.css({"font-size":e.mainFontSize.val()+"px"})},updateMainLineHeight:function(){e.previewBannerText.css({"line-height":e.mainLineHeight.val()}),e.previewExclusionToggle.css({"line-height":e.mainLineHeight.val()})},updateMainLetterSpacing:function(){e.previewBannerText.css({"letter-spacing":e.mainLetterSpacing.val()+"px"})},updateBackgroundColor:function(){var t=$('input[name="backgroundColor"]:checked').val();e.previewSwBanner.css({"background-color":t})},updateMainFontColor:function(){console.log($('input[name="mainFontColor"]:checked').val());var t=$('input[name="mainFontColor"]:checked').val();e.previewBannerText.css({color:t})},updateExclusionsText:function(){var t=""==e.exclusionsText.val()?"&nbsp;":e.exclusionsText.val();e.previewExclusionsText.text(t)}},i={loader:function(){return'<div class="row">\n\t\t\t\t\t\t<div class="col-sm-12>"\n\t\t\t\t\t\t\t<div class="loader">\n\t\t\t\t\t\t\t\t<div class="spinner"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>'},sitewideBanner:function(){return'<div id="previewSwBanner">\n\t\t\t\t\t\t<div class="bannerWidth">\n\t\t\t\t\t\t\t<div id="mainLineContainer">\n\t\t\t\t\t\t\t\t<div id="previewBannerText">Update Banner Text, This Text Updates!</div>\n\t\t\t\t\t\t\t\t<a href="#" id="previewExclusionToggle" onclick="$(\'#previewExclusionsText\').slideToggle(); return false;">details</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="previewExclusionsText">Update Exclusions Text, This Text Updates!</div>\n\t\t\t\t\t'}};n.init()}();