"use strict";!function(){var e={contentType:$("#contentType"),formContent:$(".formContent"),previewContainer:$(".previewContainer"),previewContent:$(".previewContent")},n={contentType:null},t={init:function(){e.contentType.on("change",t.getForm)},getForm:function(){e.formContent.html(i.loader()),n.contentType=e.contentType.val(),e.contentType.replaceWith(n.contentType.replace("-"," ")),$.ajax("/naturalizer/form/"+n.contentType).done(function(o){o.success&&(e.formContent.html(o.html),e.previewContent.html(i[n.contentType.replace("-","")]),e.previewContainer.show(),$('[data-toggle="popover"]').popover({placement:"top",trigger:"hover"}),"sitewide-banner"==n.contentType&&t.initSitewide())}).fail(function(){console.log("woah, something went horribly wrong...")})},initSitewide:function(){e.previewContent.html(i.sitewideBanner()),e.bannerText=$("#bannerText"),e.mainFontSize=$("#mainFontSize"),e.mainLineHeight=$("#mainLineHeight"),e.mainLetterSpacing=$("#mainLetterSpacing"),e.backgroundColor=$('input[name="backgroundColor"]'),e.mainFontColor=$('input[name="mainFontColor"]'),e.exclusionFontSize=$("#exclusionFontSize"),e.exclusionLineHeight=$("#exclusionLineHeight"),e.exclusionLetterSpacing=$("#exclusionLetterSpacing"),e.exclusionsText=$("#exclusionsText"),e.exclusionFontColor=$('input[name="exclusionFontColor"]'),e.exclusionBgColor=$('input[name="exclusionBackgroundColor"]'),e.previewSwBanner=$("#previewSwBanner"),e.previewBannerText=$("#previewBannerText"),e.previewExclusionsText=$("#previewExclusionsText"),e.previewExclusionToggle=$("#previewExclusionToggle"),$('[name="backgroundColor"], [name="mainFontColor"]').on("click",t.toggleOther);var n=$('input[name="backgroundColor"]:checked').val(),o=$('input[name="mainFontColor"]:checked').val(),a=$('input[name="exclusionFontColor"]:checked').val(),c=$('input[name="exclusionBackgroundColor"]:checked').val();e.previewSwBanner.css({"background-color":n}),e.previewBannerText.css({color:o,"line-height":e.mainLineHeight.val(),"letter-spacing":e.mainLetterSpacing.val()+"px"}),e.previewExclusionToggle.css({color:o}),e.previewExclusionsText.css({color:a}),e.previewExclusionsText.css({"background-color":c}),e.bannerText.on("keyup",t.updateBannerText),e.mainFontSize.on("change",t.updateMainFontSize),e.mainLineHeight.on("change",t.updateMainLineHeight),e.mainLetterSpacing.on("change",t.updateMainLetterSpacing),e.backgroundColor.on("change",t.updateBackgroundColor),e.mainFontColor.on("change",t.updateMainFontColor),e.exclusionsText.on("keyup",t.updateExclusionsText),e.exclusionFontSize.on("change",t.updateExclusionFontSize),e.exclusionLineHeight.on("change",t.updateExclusionLineHeight),e.exclusionLetterSpacing.on("change",t.updateExclusionLetterSpacing),e.exclusionBgColor.on("change",t.updateExclusionBackgroundColor),e.exclusionFontColor.on("change",t.updateExclusionFontColor)},toggleOther:function(e){var n=$(e.target),t=n.attr("name");"other"==$('[name="'+t+'"]:checked').val()?n.parent().next('input[type="text"]').fadeIn():n.parent().parent().find(".other").fadeOut()},updateBannerText:function(){var n=""==e.bannerText.val()?"&nbsp;":e.bannerText.val();e.previewBannerText.text(n)},updateMainFontSize:function(){e.previewBannerText.css({"font-size":e.mainFontSize.val()+"px"})},updateMainLineHeight:function(){e.previewBannerText.css({"line-height":e.mainLineHeight.val()}),e.previewExclusionToggle.css({"line-height":e.mainLineHeight.val()})},updateMainLetterSpacing:function(){e.previewBannerText.css({"letter-spacing":e.mainLetterSpacing.val()+"px"})},updateBackgroundColor:function(){var n=$('input[name="backgroundColor"]:checked').val();e.previewSwBanner.css({"background-color":n})},updateMainFontColor:function(){console.log($('input[name="mainFontColor"]:checked').val());var n=$('input[name="mainFontColor"]:checked').val();e.previewBannerText.css({color:n}),e.previewExclusionToggle.css({color:n})},updateExclusionsText:function(){var n=""==e.exclusionsText.val()?"&nbsp;":e.exclusionsText.val();e.previewExclusionsText.text(n)},updateExclusionFontSize:function(){e.previewExclusionsText.css({"font-size":e.exclusionFontSize.val()+"px"})},updateExclusionLineHeight:function(){e.previewExclusionsText.css({"line-height":e.exclusionLineHeight.val()})},updateExclusionLetterSpacing:function(){e.previewExclusionsText.css({"letter-spacing":e.exclusionLetterSpacing.val()+"px"})},updateExclusionBackgroundColor:function(){var n=$('input[name="exclusionBackgroundColor"]:checked').val();e.previewExclusionsText.css({"background-color":n})},updateExclusionFontColor:function(){var n=$('input[name="exclusionFontColor"]:checked').val();e.previewExclusionsText.css({color:n})}},i={loader:function(){return'<div class="row">\n\t\t\t\t\t\t<div class="col-sm-12>"\n\t\t\t\t\t\t\t<div class="loader">\n\t\t\t\t\t\t\t\t<div class="spinner"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>'},sitewideBanner:function(){return'<div id="previewSwBanner">\n\t\t\t\t\t\t<div class="bannerWidth">\n\t\t\t\t\t\t\t<div id="mainLineContainer">\n\t\t\t\t\t\t\t\t<div id="previewBannerText">Update Banner Text, This Text Updates!</div>\n\t\t\t\t\t\t\t\t<a href="#" id="previewExclusionToggle" onclick="$(\'#previewExclusionsText\').slideToggle(); return false;">details</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="previewExclusionsText">Update Exclusions Text, This Text Updates!</div>\n\t\t\t\t\t'}};t.init()}();